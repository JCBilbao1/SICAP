<nav class="breadcrumb skin-matters-background-color" style="padding: 0;font-size: 14px;">
    <div class="container">
        <ol class="breadcrumb" style="background-color: transparent;padding: 0;">
            <li class="breadcrumb-item"><a style="color:#4a4a4a" href="/">Home</a></li>
            <!-- <li class="breadcrumb-item" style="color: #f51e9a;" aria-current="page">Checkout</li> -->
            <li class="breadcrumb-item" style="color: white;" aria-current="page">Checkout</li>
        </ol>
    </div>
</nav>

<div class="container">
    <div class="row">
        <div class="col-md-6" style="padding: 1rem;">
            <div class="billing-details-form">

                <h3 style="text-align: center;">Billing details</h3>
                <div>
                    <div class="form-group">
                        <label for="billing_first_name">First name</label>
                        <input class="form-control" [(ngModel)]="checkout_form.first_name" type="text" name="billing_first_name" id="billing_first_name" required>
                    </div>
                    <div class="form-group">
                        <label for="billing_last_name">Last name</label>
                        <input class="form-control" [(ngModel)]="checkout_form.last_name" type="text" name="billing_last_name" id="billing_last_name" required>
                    </div>
                    <div class="form-group">
                        <label for="billing_company">Company name&nbsp;<span>(optional)</span></label>
                        <input class="form-control" [(ngModel)]="checkout_form.company" type="text" name="billing_company" id="billing_company">
                    </div>
                    <div class="form-group">
                        <label for="billing_country">Country / Region</label>
                        <input class="form-control" [(ngModel)]="checkout_form.country" type="text" name="billing_country" id="billing_country" readonly="readonly">
                    </div>
                    <div class="form-group">
                        <label for="billing_address_1">Street address</label>
                        <input class="form-control" [(ngModel)]="checkout_form.address_line1" type="text" name="billing_address_1" id="billing_address_1" placeholder="House number and street name" required>
                    </div>
                    <div class="form-group">
                        <label for="billing_address_2">Apartment, suite, unit etc. (optional)</label>
                        <input class="form-control" [(ngModel)]="checkout_form.address_line2" type="text" name="billing_address_2" id="billing_address_2" placeholder="Apartment, suite, unit etc. (optional)">
                    </div>
                    <div class="form-group">
                        <label for="billing_city">City</label>
                        <select class="form-control" [(ngModel)]="checkout_form.city" name="billing_city" id="billing_city" tabindex="-1" aria-hidden="true" required>
                            <option value="" disabled>Select an option…</option>
                            <option *ngFor="let city of cities">{{city.name}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="billing_state">State</label>
                        <select class="form-control" [(ngModel)]="checkout_form.state" name="billing_state" id="billing_state" tabindex="-1" aria-hidden="true" required>
                            <option value="" disabled>Select an option…</option>
                            <option *ngFor="let state of states">{{state.name}}</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="billing_postcode">Postcode / ZIP</label>
                        <input class="form-control" [(ngModel)]="checkout_form.post_code" type="text" name="billing_postcode" id="billing_postcode" required>
                    </div>
                    <div class="form-group">
                        <label for="billing_phone" class="">Phone</label>
                        <input class="form-control" [(ngModel)]="checkout_form.contact_number" type="tel" name="billing_phone" id="billing_phone" required>
                    </div>
                    <div class="form-group">
                        <label for="billing_email">Email address</label>
                        <input class="form-control" [(ngModel)]="checkout_form.email" type="email" name="billing_email" id="billing_email" required>
                    </div>
                </div>

            </div>
        </div>

        <div class="col-md-6" style="padding: 1rem;">
            <h3 style="text-align: center;">Your order</h3>
            <div>
                <table class="checkout-table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="cart_item" *ngFor="let product of checkout_form.products">
                            <td>
                                {{product?.product_name}} <strong>× {{product?.checkoutQty}}</strong>
                            </td>
                            <td class="product-total">
                                ₱ <span>{{product?.price * product?.checkoutQty}}</span>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <!-- <tr class="cart-subtotal">
                            <th>
                                Subtotal
                            </th>
                            <td>
                                <span><span>₱</span>250.00</span>
                            </td>
                        </tr>
                        <tr class="woocommerce-shipping-totals shipping">
                            <th>Shipping</th>
                            <td data-title="Shipping">
                                <ul id="shipping_method" class="woocommerce-shipping-methods">
                                    <li>
                                        <input type="hidden" name="shipping_method[0]" data-index="0" id="shipping_method_0_free_shipping7" value="free_shipping:7" class="shipping_method"><label for="shipping_method_0_free_shipping7">Customer will shoulder logistics fee (per BRAND PARTNER)</label>					</li>
                                </ul>
                            </td>
                        </tr> -->
                        <tr>
                            <th>Total</th>
                            <td>
                                <strong>
                                    ₱ <span>{{checkout_form?.total}}</span>
                                </strong>
                            </td>
                        </tr>
                    </tfoot>
                </table>
                <div *ngIf="payment_methods?.length">
                    <div class="accordion" *ngFor="let payment_method of payment_methods">
                        <div class="card">
                          <div class="card-header">
                            <h3 class="mb-0" style="font-size: 16px;">
                                {{payment_method.name}}
                            </h3>
                          </div>
                      
                          <div class="collapse show">
                            <div class="card-body" style="white-space: pre-line;word-wrap: break-word;">
                                {{payment_method.description}}
                            </div>
                          </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div>
                        <div>
                            <label>
                                <input [(ngModel)]="accept_term" [ngClass]="{'is-invalid' : errors?.accept_term}" type="checkbox" name="terms" id="terms">
                                <span> 
                                    I have read and agree to the website <a href="#" style="color: #f48373;" target="_blank">terms and conditions</a>
                                </span>
                                <div class="error_message">
                                    <p *ngFor="let error of errors?.accept_term">{{error}}</p>
                                </div>
                            </label>
                        </div>
                        <button type="submit" class="place-order-btn" id="place_order" (click)="placeOrder(template)">Place order</button>
                        <div class="error_message">
                            <p *ngFor="let error of errors?.order | keyvalue">{{error.value}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <ng-template #template>
        <div class="modal-header">
            <h4 class="modal-title pull-left">Order Received!</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        <div class="modal-body">
          <p>Thank you. Your order has been received.</p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" (click)="modalRef.hide()">Close</button>
        </div>
    </ng-template>
</div>